<div class="row px-0 mx-0" style="width: 100%;">
  <div class="col-12 px-0">
    <mat-form-field [appearance]="appearance" class="d-block" [class.smaller]="smaller">
      @if (label !== undefined && label !== null) {
        <mat-label>{{label}}</mat-label>
      }
      <input name="teste" [readonly]="readonly" matInput [formControl]="control" [placeholder]="placeholder" [type]="hide ? 'password' : 'text'"/>
      @if (iconBefore !== null) {
        <span class="mr-1" matPrefix>
          <fa-icon [icon]="iconBefore" />
        </span>
      }
      @if (iconAfter !== null) {
        <span matSuffix>
          <fa-icon [icon]="iconAfter" />
        </span>
      }
      <button type="button" tabindex="-1" focusable="false" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
        @if (hide) {
          <span>
            <fa-icon [icon]="['fas', 'eye']" />
          </span>
        }
        @else {
          <span>
            <fa-icon [icon]="['fas', 'eye-slash']" />
          </span>
        }
      </button>
      @if (tooltip !== null) {
        <span matSuffix>
          <fa-icon [icon]="['fal', 'circle-info']" [matTooltip]="tooltip" matTooltipPosition="above" style="color: var(--mat-accent)" />
        </span>
      }
      @if (hasError()) {
        <mat-error class="warn">{{errorMessage}}</mat-error>
      }
      <mat-hint align="end" aria-live="polite">
        {{control.value.length}} / {{max}}
      </mat-hint>
    </mat-form-field>
  </div>
  @if (showInfo) {
    <div class="col-12 px-0">
      <div class="progress progress-xl" style="height: 5px;">
        <div class="progress-bar" role="progressbar"
          [style.width]="progressValue*100 + '%'" [attr.aria-valuenow]="progressValue*100"
          aria-valuemin="0" aria-valuemax="100"
          [style.backgroundColor]="progressColor"></div>
      </div>      
      <mat-card class="mt-0 pt-0">
        <mat-list>
          @if (lowercase) {
            <mat-list-item style="height: 32px;">
              @if (!isValid('lowercase')) {
                <span>
                  <i class='fa-solid fa-ban text-danger mr-1'></i>
                </span>
              } @else {
                <span>
                  <i class='fa-regular fa-check text-success mr-1'></i>                  
                </span>
              }
              <mat-label>{{'LOWER_CASE_CRITERIA_MSG' | translate}}</mat-label>
            </mat-list-item>
          }
          @if (uppercase) {
            <mat-list-item style="height: 32px;">
              @if (!isValid('uppercase')) {
                <span>
                  <i class='fa-solid fa-ban text-danger mr-1'></i>
                </span>
              } @else {
                <span>
                  <i class='fa-regular fa-check text-success mr-1'></i>
                </span>
              }
              <mat-label>{{'UPPER_CASE_CRITERIA_MSG' | translate}}</mat-label>
            </mat-list-item>
          }
          @if (number) {
            <mat-list-item style="height: 32px;">
              @if (!isValid('number')) {
                <span>
                  <i class='fa-solid fa-ban text-danger mr-1'></i>
                </span>
              } @else {
                <span>
                  <i class='fa-regular fa-check text-success mr-1'></i>
                </span>
              }
              <mat-label>{{'DIGITS_CRITERIA_MSG' | translate}}</mat-label>
            </mat-list-item>
          }
          @if (symbol) {
            <mat-list-item style="height: 32px;">
              @if (!isValid('symbol')) {
                <span>
                  <i class='fa-solid fa-ban text-danger mr-1'></i>
                </span>
              } @else {
                <span>
                  <i class='fa-regular fa-check text-success mr-1'></i>
                </span>
              }
              <mat-label>{{'SPECIAL_CHARS_CRITERIA_MSG' | translate}}</mat-label>
            </mat-list-item>
          }
          @if (minChars) {
            <mat-list-item style="height: 32px;">
              @if (!isValid('minChars')) {
                <span>
                  <i class='fa-solid fa-ban text-danger mr-1'></i>                  
                </span>
              } @else {
                <span>
                  <i class='fa-regular fa-check text-success mr-1'></i>
                </span>
              }
              <mat-label>{{'MIN_CHARS_CRITERIA_MSG' | translate}}</mat-label>
            </mat-list-item>
          }
          @if (customChars) {
            <mat-list-item style="height: 32px;">
              @if (!isValid('customChars')) {
                <span>
                  <i class='fa-solid fa-ban text-danger mr-1'></i>
                </span>
              } @else {
                <span>
                  <i class='fa-regular fa-check text-success mr-1'></i>
                </span>
              }
              <mat-label>{{'CUSTOM_CHARS_CRITERIA_MSG' | translate}}</mat-label>
            </mat-list-item>
          }
        </mat-list>
      </mat-card>
    </div>
  }
</div>
