<mat-form-field appearance="outline" class="d-block" [class.smaller]="smaller">
  @if (label !== undefined && label !== null) {
    <mat-label>{{label}}</mat-label>
  }
  <input [readonly]="readonly" matInput [formControl]="control" [placeholder]="placeholder" [type]="hide ? 'password' : 'text'"/>
  @if (iconBefore !== null) {
    <span class="mr-1" matPrefix>
      <fa-icon [icon]="iconBefore" />
    </span>
  }
  @if (iconAfter !== null) {
    <span matSuffix>
      <fa-icon [icon]="iconAfter" />
    </span>
  }
  @if (hide) {
    <button type="button" tabindex="-1" focusable="false" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
      <fa-icon [icon]="['fas', 'eye']" />
    </button>
  } @else {
    <button type="button" tabindex="-1" focusable="false" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">    
      <fa-icon [icon]="['fas', 'eye-slash']" />
    </button>
  }
  @if (tooltip !== null) {
    <span matSuffix>
      <fa-icon [icon]="['far', 'circle-info']" [matTooltip]="tooltip" matTooltipPosition="above" style="color: var(--mat-accent)" />
    </span>
  }
  @if (hasError()) {
    <mat-error class="danger">{{errorMessage}}</mat-error>
  }
</mat-form-field>
