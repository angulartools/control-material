<mat-form-field [appearance]="appearance" floatLabel="always" class="d-block" [class.smaller]="smaller">

  @if (label !== undefined && label !== null) {
    <mat-label>{{label}}</mat-label>
  }

  <input matInput [hidden]="true" [min]="minDate" [max]="maxDate" [ngxMatDatetimePicker]="picker"
    [formControl]="control" [placeholder]="placeholder" [readonly]="true" (dateChange)="changeDate($event)" />

  <div class="d-inline-flex frame">

    <span class="mr-1">
      <input [readonly]="readonly" [imask]="dateMask" [unmask]="true" placeholder="  /  /    "
        [disabled]="disabled" [value]="inputDate" class="form-control" [style.height]="smaller ? '28px' : '32px'"
        (focus)="onFocus($event)" (focusout)="onFocusOutDate($event)" style="border: none; padding: 0px; max-width: 100px;">
    </span>

    @if (showTime) {
      <span>
        <input [readonly]="readonly" [imask]="hourMinuteMask" [unmask]="true" placeholder="  :  " [style.height]="smaller ? '28px' : '32px'"
          [disabled]="disabled" [value]="inputHour" class="form-control" style="border: none; padding: 0px;"
          (focus)="onFocus($event)" (focusout)="onFocusOutHour($event)">
      </span>
    }

  </div>

  <ngx-mat-datepicker-toggle matIconSuffix [for]="picker" [disabled]="readonly" tabindex="-1" aria-hidden="true">
    <fa-icon [icon]="['far', 'calendar']" />
  </ngx-mat-datepicker-toggle>

  <ngx-mat-datetime-picker #picker [showSpinners]="showSpinners" [showSeconds]="showSeconds"
    [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
    [touchUi]="touchUi"  [enableMeridian]="enableMeridian"
    [disableMinute]="disableMinute" [hideTime]="!showTime">
    <ngx-mat-datepicker-actions>
      <button mat-button ngxMatDatepickerCancel>
        <fa-icon class="icon-size" [icon]="getXmarkIcon()"></fa-icon>
        {{'CANCELAR' | translate}}
      </button>
      <button mat-raised-button color="primary" ngxMatDatepickerApply>
        <i class="fa-solid fa-check mr-1"></i>{{'OK' | translate}}
      </button>
    </ngx-mat-datepicker-actions>
  </ngx-mat-datetime-picker>

  @if (hasError()) {
    <mat-error class="danger">{{errorMessage}}</mat-error>
  }

</mat-form-field>
