@if (!readonly) {
  <mat-form-field [appearance]="appearance" class="d-block" [class.smaller]="smaller">
    @if (label !== undefined && label !== null) {
      <mat-label>{{label}}@if (required) {
        <span>*</span>
      }</mat-label>
    }
    <lib-mat-file-input #inputFile [formControl]="control" [ngModel]="control?.value" (change)="selectFile($event)" [placeholder]="placeholder"></lib-mat-file-input>
    @if (!inputFile.empty) {
      <button mat-icon-button matSuffix (click)="inputFile.clear($event); image=null">
        <fa-icon class="icon-size" [icon]="getXmarkIcon()"></fa-icon>
      </button>
    }
    @if (inputFile.empty) {
      <button type="button" mat-icon-button matSuffix>
        <fa-icon [icon]="['fas', 'folder-open']" />
      </button>
    }
    @if (hasError()) {
      <mat-error class="danger">{{errorMessage}}</mat-error>
    }
    @if (hint !== null) {
      <mat-hint>{{hint}}</mat-hint>
    }
  </mat-form-field>
}

@if (readonly) {
  <mat-form-field [appearance]="appearance" class="d-block" [class.smaller]="smaller">
    @if (label !== undefined && label !== null) {
      <mat-label>{{label}}@if (required) {
        <span>*</span>
      }</mat-label>
    }
    <input [readonly]="readonly" matInput [value]="control?.value?._fileNames" />
  </mat-form-field>
}

@if (image !== undefined && image !== null) {
  <span>
    <img [src]="image" class="{{imageClass}} img-thumbnail" [style.height]="imageHeight" [style.width]="imageWidth" />
  </span>
}
